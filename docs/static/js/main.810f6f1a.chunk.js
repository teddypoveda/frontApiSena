(this.webpackJsonphotelsvee2=this.webpackJsonphotelsvee2||[]).push([[0],{134:function(e,t,n){},138:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(14),c=n.n(r),o=n(12),s=n(74),i=n(16),l=n(159),u=n(158),d=n(9),j=n.n(d),b=n(19),h=n(8),m=n(10),p=n(3),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(h.a)(t,2),r=n[0],c=n[1],o=function(){c(e)},s=function(e){var t=e.target;c(Object(p.a)(Object(p.a)({},r),{},Object(m.a)({},t.name,t.value)))};return[r,s,o]},f="https://hotelsvee20211206214944.azurewebsites.net/api",x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";try{var a="".concat(f,"/").concat(e);return"GET"===n?fetch(a):fetch(a,{method:n,headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)})}catch(r){console.log(r)}},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";try{var a="".concat(f,"/").concat(e),r=localStorage.getItem("token")||"";return"GET"===n?fetch(a,{method:n,headers:{Accept:"application/json","Content-type":"application/json",Authorization:"Bearer "+r}}):fetch(a,{method:n,headers:{Accept:"application/json","Content-type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify(t)})}catch(c){console.log(c)}},g={uiOpenModalHotel:"[ui] Open modal Hotel",uiOpenModalHotelId:"[ui] Open modal Hotel id",uiOpenModalCountry:"[ui] Open modal Country",uiOpenModalCountryId:"[ui] Open modal Country id",uiModalDelete:"[ui] Open modal delete",uiModalDeleteClose:"[ui] Close modal delete ",uiCloseModal:"[ui] Close modal",eventClearActiveEvent:"[event] Clear active event",eventUpdatedHotel:"[event Hotel] Event updated",eventUpdatedCountry:"[event Country] Event updated",eventDeletedHotel:"[event Hotel] Event deleted",eventDeletedCountry:"[event Country] Event deleted",eventHotelGet:"[event Hotel] event Loaded",eventCountryGet:"[event Country] event Loaded",eventAddHotel:"[event hotel] event Add new",eventAddCountry:"[event country] event Add new",authCheckingFinish:"[auth] Finish checking login state",authStartLogin:"[auth] Start login",authLogin:"[auth] Login",authStartRegister:"[auth] Start Register",authStartStartTokenRenew:"[auth] Start token renew",authLogout:"[auth] Logout"},y=n(21),N=n.n(y),C=function(e,t){return function(){var n=Object(b.a)(j.a.mark((function n(a){var r,c,o,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x("account/login",{email:e,password:t},"POST");case 2:return r=n.sent,n.next=5,r.json();case 5:if(c=n.sent,!r.ok){n.next=18;break}return localStorage.setItem("token",c.token),n.next=10,v("account/tokenValid",{},"GET");case 10:return o=n.sent,n.next=13,o.json();case 13:s=n.sent,console.log(s),o.ok&&(a(k({firstName:s.firstName,lastName:s.lastName,rol:s.rol})),localStorage.setItem("firstName",s.firstName),localStorage.setItem("lastName",s.lastName),localStorage.setItem("rol",s.rol),localStorage.setItem("checking",!0),N.a.fire("Ingreso Exitoso!","Bienvenido al sisstema de hoteles!","success")),n.next=19;break;case 18:N.a.fire("Error","Email o Contrase\xf1a invalida","error");case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},k=function(e){return{type:g.authLogin,payload:e}},w=(n(134),n(2)),S=function(){var e=Object(o.b)(),t=O({lEmail:"",lPassword:"Contrase\xf14."}),n=Object(h.a)(t,2),a=n[0],r=n[1],c=a.lEmail,s=a.lPassword,i=function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e(C(c,s));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"login",children:Object(w.jsx)("div",{className:" mx-auto w-50 bg-light border shadow-lg bg-body rounded border border-secondary",children:Object(w.jsxs)("div",{className:"p-7",children:[Object(w.jsx)("h3",{className:"p-3 mb-2 bg-secondary text-white",children:"Ingreso"}),Object(w.jsxs)("form",{onSubmit:i,className:"px-3",children:[Object(w.jsx)("div",{className:"form-group pt-4",children:Object(w.jsx)("input",{type:"text",className:"form-control",placeholder:"Correo",name:"lEmail",value:c,onChange:r})}),Object(w.jsx)("div",{className:"form-group pt-3",children:Object(w.jsx)("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"lPassword",value:s,onChange:r})}),Object(w.jsx)("div",{className:"form-group pt-5 pb-3",children:Object(w.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Login"})})]})]})})})},E=n(153),I=n(160),H=n(154),A=function(){var e=localStorage.getItem("firstName"),t=localStorage.getItem("lastName"),n=localStorage.getItem("rol");return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("span",{className:"navbar-brand",children:[e+" "+t," ",Object(w.jsx)(E.a,{pill:!0,bg:"success",children:n})," "]}),Object(w.jsxs)(I.a,{className:"me-auto",children:[Object(w.jsx)(I.a.Link,{href:"/dashboard",children:"Dashboard"}),Object(w.jsx)(I.a.Link,{href:"/hotel",children:"Hoteles"}),Object(w.jsx)(I.a.Link,{href:"/country",children:"Paises"}),Object(w.jsx)(I.a.Link,{href:"/register",children:" Usuario Nuevo"})]}),Object(w.jsxs)(H.a,{onClick:function(){localStorage.clear(),localStorage.setItem("tokenExpired",!0),window.location.href=window.location.href},children:[Object(w.jsx)("i",{className:"fas fa-sign-out-alt"}),Object(w.jsx)("span",{children:" salir"})]})]})},D=n(109),M=function(){return Object(w.jsxs)(l.a.Brand,{href:"",children:[Object(w.jsx)(H.a,{variant:"secondary",href:"/login",children:"Login"}),"  ",Object(w.jsx)(H.a,{variant:"info",href:"/register",children:"Registrarse"})]})},F=(n(106),function(e){return{type:g.uiModalDelete,idDelete:e}}),L=function(){return{type:g.uiModalDeleteClose}},P=function(){return{type:g.uiCloseModal}},_=function(e){var t=e.tipo,n=Object(o.b)(),a=function(){n("hotel"===t?{type:g.uiOpenModalHotel}:{type:g.uiOpenModalCountry})};return Object(w.jsxs)("button",{className:"btn btn-success",onClick:function(){a()},children:["Agregar ","hotel"===t?"Hotel":"Pa\xeds"]})},T=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v("hotel",e,"Post");case 3:a=t.sent,console.log(a),a.ok?(n(q(e)),N.a.fire("Exitosa!","Se agreg\xf3 correctamente!","success")):N.a.fire("Error!","No se puede agregar!","error"),n(B()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v("country",e,"Post");case 3:a=t.sent,console.log(a),a.ok?(n(J(e)),N.a.fire("Exitosa!","Se agreg\xf3 correctamente!","success")):N.a.fire("Error!","No se puede agregar!","error"),n(B()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v("hotel/"+e.id,e,"PUT");case 3:t.sent.ok?(n(W(e)),N.a.fire("Exitosa!","Se modific\xf3 correctamente!","success")):N.a.fire("Error!","No se puede modificar!","error"),n(B()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v("country/"+e.id,e,"PUT");case 3:t.sent.ok?(n(Y(e)),N.a.fire("Exitosa!","Se modific\xf3 correctamente!","success")):N.a.fire("Error!","No se puede modificar!","error"),n(Y()),n(B()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},G=function(){return{type:g.uiModalDeleteClose}},B=function(){return{type:g.uiCloseModal}},q=function(e){return{type:g.eventAddHotel,payload:e}},J=function(e){return{type:g.eventAddCountry,payload:e}},V=function(e){return{type:g.eventHotelGet,payload:e}},X=function(e){return{type:g.eventCountryGet,payload:e}},K=function(e){return{type:g.eventDeletedHotel,payload:e}},Q=function(e){return{type:g.eventDeletedCountry,payload:e}},W=function(e){return{type:g.eventUpdatedHotel,payload:e}},Y=function(e){return{type:g.eventUpdatedCountry,payload:e}},Z=n(155),$=n(162),ee=n(163),te=function(e){var t=Object(o.b)(),n=function(e){return t({type:g.uiOpenModalCountryId,countryUpdate:e})};return""===e.id?Object(w.jsx)(Z.a,{animation:"border",role:"status",children:Object(w.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(w.jsx)($.a,{bg:"Primary",text:"dark",style:{width:"12rem",height:"12rem"},className:"mb-2 card animate__animated animate__bounce shadow p-3 mb-5 bg-body rounded border border-secondary",children:Object(w.jsxs)($.a.Body,{children:[Object(w.jsx)($.a.Title,{children:e.name}),Object(w.jsx)($.a.Subtitle,{className:"mb-2 text-muted",children:e.shortName}),Object(w.jsxs)(ee.a,{gap:2,className:"col-md-8 mx-auto",children:[Object(w.jsx)(H.a,{size:"sm",onClick:function(){return n(e)},children:"editar"}),Object(w.jsx)(H.a,{variant:"danger",size:"sm",onClick:function(){return n=e.id,t(F(n));var n},children:"eliminar"})]})]})},e.id)},ne=n(24),ae=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.ui})),n=t.modalOpenCountry,r=t.countrySelector,c=t.modalNew,s=t.modalDelete,i=t.idSelector,l=Object(o.c)((function(e){return e.country})).countries,u=Object(a.useState)(l),d=Object(h.a)(u,2),O=d[0],f=d[1],x=O||{},g=x.id,y=x.name,C=x.shortName;console.log(r),Object(a.useEffect)((function(){f(O),f(r)}),[r]);var k=function(){e(P()),e(L()),f(l)},S=function(e){var t=e.target;f(Object(p.a)(Object(p.a)({},O),{},Object(m.a)({},t.name,t.value)))},E=function(){e(function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v("country/"+e,{},"Delete");case 3:t.sent.ok?(n(Q(e)),N.a.fire("Exitosa!","Se elimin\xf3 correctamente!","success")):N.a.fire("Error!","No se puede eliminar!","error"),n(G()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(i))},I=function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!c){t.next=10;break}return delete O.id,t.t0=e,t.next=6,U(O);case 6:t.t1=t.sent,(0,t.t0)(t.t1),t.next=15;break;case 10:return t.t2=e,t.next=13,z(O);case 13:t.t3=t.sent,(0,t.t2)(t.t3);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(ne.a,{isOpen:n,centered:!0,onRequestClose:k,children:[Object(w.jsx)(ne.d,{style:{display:"block"},children:Object(w.jsxs)("span",{onClick:function(){return I()},children:[" ",c?"Nuevo evento":"Editar evento"]})}),Object(w.jsx)(ne.b,{children:Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{htmlFor:"nombre",children:"id"}),Object(w.jsx)("input",{className:"form-control",type:"text",name:"id",id:"id",readOnly:!0,onChange:S,value:g}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"nombre",children:"Nombre"}),Object(w.jsx)("input",{className:"form-control",type:"text",name:"name",id:"name",onChange:S,value:y}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"nombre",children:"Indicativo"}),Object(w.jsx)("input",{className:"form-control",type:"text",name:"shortName",id:"shortName",onChange:S,value:C}),Object(w.jsx)("br",{})]})}),Object(w.jsxs)(ne.c,{children:[c?Object(w.jsx)("button",{className:"btn btn-success",onClick:I,children:"Insertar"}):Object(w.jsx)("button",{className:"btn btn-primary",onClick:I,children:"Actualizar"}),Object(w.jsx)("button",{className:"btn btn-danger",onClick:function(){return k()},children:"Cancelar"})]})]}),Object(w.jsxs)(ne.a,{isOpen:s,children:[Object(w.jsxs)(ne.b,{children:["Est\xe1s seguro que deseas eliminar el pa\xeds ",y]}),Object(w.jsxs)(ne.c,{children:[Object(w.jsx)("button",{className:"btn btn-danger",onClick:function(){return E()},children:"S\xed"}),Object(w.jsx)("button",{className:"btn btn-secundary",onClick:function(){return k()},children:"No"})]})]})]})},re=function(){var e=Object(o.b)(),t=(Object(o.c)((function(e){return e.country}))||{}).countries;return Object(a.useEffect)((function(){e(function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("country?PageNumber=1&PageSize=19",{});case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,console.log(a),t(X(a)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"Paises"}),Object(w.jsx)(_,{tipo:"Country"}),Object(w.jsx)(ae,{}),Object(w.jsx)("div",{className:"card-grid",children:t.map((function(e){return Object(w.jsx)(te,Object(p.a)({},e),e.id)}))})]})},ce=(n(138),function(){return Object(w.jsx)("div",{className:"dashboard",children:Object(w.jsx)(ae,{})})}),oe=n(6),se=n(161),ie=n(156),le=n(157),ue=["ref"],de=function(e){var t=Object(o.b)(),n=function(e){return t({type:g.uiOpenModalHotelId,hotelUpdate:e})};return""===e.id?Object(w.jsx)(Z.a,{animation:"border",role:"status",children:Object(w.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(w.jsx)($.a,{bg:"Primary",text:"dark",style:{width:"18rem"},className:"mb-2 card animate__animated animate__bounce shadow p-3 mb-5 bg-body rounded",children:Object(w.jsxs)($.a.Body,{children:[Object(w.jsx)($.a.Title,{children:e.name}),Object(w.jsx)($.a.Subtitle,{className:"mb-2 text-muted",children:e.address}),Object(w.jsxs)($.a.Text,{className:"mb-2 text-muted",children:["Rating:",Object(w.jsxs)(E.a,{pill:!0,bg:"info",children:[e.rating," "]})]}),Object(w.jsx)(se.a,{placement:"bottom",overlay:Object(w.jsx)(ie.a,{id:"button-tooltip-2",children:"Revisar datos del hotel"}),children:function(e){var t=e.ref,n=Object(oe.a)(e,ue);return Object(w.jsxs)(H.a,Object(p.a)(Object(p.a)({variant:"light"},n),{},{className:"d-inline-flex align-items-center",children:[Object(w.jsx)(le.a,{ref:t,roundedCircle:!0,src:"holder.js/20x20?text=J&bg=28a745&fg=FFF"}),Object(w.jsx)("span",{className:"ms-1",children:"Saber mas..."})]}))}}),Object(w.jsxs)(ee.a,{gap:2,className:"col-md-8 mx-auto",children:[Object(w.jsx)(H.a,{size:"sm",onClick:function(){return n(e)},children:"editar"}),Object(w.jsx)(H.a,{variant:"danger",size:"sm",onClick:function(){return n=e.id,t(F(n));var n},children:"eliminar"})]})]})},e.id)},je=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.ui})),n=t.modalOpenHotel,r=t.modalDelete,c=t.modalNew,s=t.idSelector,i=t.hotelSelector,l=Object(o.c)((function(e){return e.hotel})).hotels,u=Object(a.useState)(l),d=Object(h.a)(u,2),O=d[0],f=d[1],x=O.id,y=O.name,C=O.address,k=O.rating,S=O.countryId;Object(a.useEffect)((function(){f(l),f(i)}),[f,n,l,i]);var E=function(){e(P()),e({type:g.eventClearActiveEvent})},I=function(){var t;e((t=s,function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("hotel/"+t,{},"Delete");case 3:e.sent.ok?(n(K(t)),N.a.fire("Exitosa!","Se elimin\xf3 correctamente!","success")):N.a.fire("Error!","No se puede eliminar!","error"),n(G()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},H=function(e){var t=e.target;f(Object(p.a)(Object(p.a)({},O),{},Object(m.a)({},t.name,t.value)))},A=function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),t.t0=e,!c){t.next=8;break}return t.next=5,T(Object(p.a)({},O));case 5:t.t1=t.sent,t.next=11;break;case 8:return t.next=10,R(Object(p.a)({},O));case 10:t.t1=t.sent;case 11:t.t2=t.t1,(0,t.t0)(t.t2);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(ne.a,{isOpen:n,centered:!0,onRequestClose:E,children:[Object(w.jsx)(ne.d,{style:{display:"block"},children:Object(w.jsx)("span",{onClick:function(){return A()},children:"nuevo"})}),Object(w.jsx)(ne.b,{children:Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{htmlFor:"nombre",children:"id"}),Object(w.jsx)("input",{className:"form-control",type:"text",name:"id",id:"id",readOnly:!0,onChange:H,value:x}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"nombre",children:"Nombre"}),Object(w.jsx)("input",{className:"form-control",type:"text",name:"name",id:"name",onChange:H,value:y}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"nombre",children:"Direcci\xf3n"}),Object(w.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",onChange:H,value:C}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"nombre",children:"Estrellas"}),Object(w.jsx)("input",{className:"form-control",type:"text",name:"rating",id:"rating",onChange:H,value:k}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"nombre",children:"countryId"}),Object(w.jsx)("input",{className:"form-control",type:"text",name:"countryId",id:"countryId",onChange:H,value:S}),Object(w.jsx)("br",{})]})}),Object(w.jsxs)(ne.c,{children:[c?Object(w.jsx)("button",{className:"btn btn-success",onClick:A,children:"Insertar"}):Object(w.jsx)("button",{className:"btn btn-primary",onClick:A,children:"Actualizar"}),Object(w.jsx)("button",{className:"btn btn-danger",onClick:function(){return E()},children:"Cancelar"})]})]}),Object(w.jsxs)(ne.a,{isOpen:r,children:[Object(w.jsxs)(ne.b,{children:["Est\xe1s seguro que deseas eliminar el hotel ",y]}),Object(w.jsxs)(ne.c,{children:[Object(w.jsx)("button",{className:"btn btn-danger",onClick:function(){return I()},children:"S\xed"}),Object(w.jsx)("button",{className:"btn btn-secundary",onClick:function(){e(L())},children:"No"})]})]})]})},be=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.hotel})).hotels;return Object(a.useEffect)((function(){e(function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("hotel?PageNumber=1&PageSize=19",{});case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t(V(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"Hotel"}),Object(w.jsx)(_,{tipo:"hotel"}),Object(w.jsx)(je,{}),Object(w.jsx)("div",{className:"card-grid",children:t.map((function(e){return Object(w.jsx)(de,Object(p.a)({},e),e.id)}))})]})},he=["isAuthenticated","component"],me=function(e){var t=e.isAuthenticated,n=e.component,a=Object(oe.a)(e,he);return Object(w.jsx)(i.b,Object(p.a)(Object(p.a)({},a),{},{component:function(e){return t?Object(w.jsx)(i.a,{to:"/login"}):Object(w.jsx)(n,Object(p.a)({},e))}}))},pe=(n(142),function(e){e.history;var t=Object(o.b)(),n=O({email:"",firstName:"",lastName:"",rol:"",password:""}),a=Object(h.a)(n,3),r=a[0],c=a[1],s=a[2],i=r.email,l=r.firstName,u=r.lastName,d=r.rol,m=r.password,p="Administrator"===localStorage.getItem("rol")||"visually-hidden";return Object(w.jsx)("div",{className:"register",children:Object(w.jsx)("div",{className:"position-absolute w-50  top-55 start-50 translate-middle border border-dark d-grid gap-3 shadow-lg bg-body rounded",children:Object(w.jsxs)("div",{className:"",children:[Object(w.jsx)("h3",{className:"p-4 bg-secondary text-white ",children:"Nuevo usuario"}),Object(w.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),t(function(e,t,n,a,r){return function(){var c=Object(b.a)(j.a.mark((function c(o){var s,i;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return""===!a||(a="Administrator"),c.prev=1,s=[a],c.next=5,x("account/register",{email:e,firstName:t,lastName:n,roles:s,password:r},"POST");case 5:(i=c.sent).ok?N.a.fire("Registro Exitoso!","Ahora puedes ingresar al sisstema!","success"):N.a.fire("Error",i.msg,"error"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),console.log(c.t0);case 12:case"end":return c.stop()}}),c,null,[[1,9]])})));return function(e){return c.apply(this,arguments)}}()}(i,l,u,d,m)),s(),Object(w.jsx)(Z.a,{animation:"border",role:"status",children:Object(w.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},className:"row p-3 g-3 needs-validation",children:[Object(w.jsxs)("div",{className:"input-group has-validation mt-3 mb-2",children:[Object(w.jsx)("input",{type:"text",className:"form-control bg-light border",placeholder:"Correo",name:"email",id:"validationCustom01",value:i,onChange:c,"aria-describedby":"validationCustomUsername",required:!0}),Object(w.jsx)("div",{class:"invalid-feedback",children:"Please choose a username."})]}),Object(w.jsx)("div",{className:"form-group mt-4",children:Object(w.jsx)("input",{type:"text",className:"form-control bg-light border",placeholder:"Nombres",name:"firstName",value:l,onChange:c})}),Object(w.jsx)("div",{className:"form-group mt-4",children:Object(w.jsx)("input",{type:"text",className:"form-control bg-light border",placeholder:"Apellidos",name:"lastName",value:u,onChange:c})}),Object(w.jsxs)("div",{className:"input-group mb-3 mt-4 ".concat(p),children:[Object(w.jsx)("label",{className:"input-group-text",children:"Rol"}),Object(w.jsxs)("select",{className:"form-select",name:"rol",defaultValue:d,onChange:c,required:!0,"aria-label":"select example",children:[Object(w.jsx)("option",{children:"roles..."}),Object(w.jsx)("option",{defaultValue:"user",children:"usuario"}),Object(w.jsx)("option",{defaultValue:"Administrator",children:"Administrador"})]}),Object(w.jsx)("div",{class:"invalid-feedback",children:"Example invalid select feedback"})]}),Object(w.jsx)("div",{className:"form-group mt-4",children:Object(w.jsx)("input",{type:"password",className:"form-control bg-light border",placeholder:"Contrase\xf1a",name:"password",value:m,onChange:c})}),Object(w.jsx)("div",{className:" pt-4 w-50  ",children:Object(w.jsx)("input",{type:"submit",className:" btn btn-success",value:"Crear usuario"})})]})]})})})}),Oe=["isAuthenticated","component"],fe=function(e){var t=e.isAuthenticated,n=e.component,a=Object(oe.a)(e,Oe);return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(i.b,Object(p.a)(Object(p.a)({},a),{},{component:function(e){return t?Object(w.jsx)(n,Object(p.a)({},e)):Object(w.jsx)(i.a,{to:"/dashboard"})}}))})},xe=function(){Object(o.b)();var e=Object(o.c)((function(e){return e.auth})).checking,t=localStorage.getItem("token")||"",n=Object(D.a)(t).isExpired;return localStorage.setItem("tokenExpired",n),Object(a.useEffect)((function(){}),[!n,e]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.a,{bg:"dark",variant:"dark",children:Object(w.jsxs)(u.a,{children:[Object(w.jsxs)(l.a.Brand,{href:"/",children:[Object(w.jsx)("img",{src:"https://www.shareicon.net/data/512x512/2016/07/10/119874_apps_512x512.png",width:"50",height:"50",className:"d-inline-block align-top",alt:"React Bootstrap logo"}),"Hotels"]}),n?Object(w.jsx)(M,{}):Object(w.jsx)(A,{})]})}),Object(w.jsx)(s.a,{children:Object(w.jsxs)(i.d,{children:[Object(w.jsx)(i.b,{path:"/register",component:pe}),Object(w.jsx)(fe,{exact:!0,path:"/login",component:S,isAuthenticated:n}),Object(w.jsx)(me,{exact:!0,path:"/dashboard",component:ce,isAuthenticated:n}),Object(w.jsx)(i.b,{path:"/dashboard",render:function(){return n?Object(w.jsx)(ce,{}):Object(w.jsx)(S,{})}}),Object(w.jsx)(i.b,{path:"/hotel",render:function(){return n?Object(w.jsx)(be,{}):Object(w.jsx)(S,{})}}),Object(w.jsx)(i.b,{path:"/country",render:function(){return n?Object(w.jsx)(re,{}):Object(w.jsx)(S,{})}})]})})]})},ve=n(63),ge=n(111),ye={modalOpenHotel:!1,modalOpenCountry:!1,modalDelete:!1,modalNew:!0,idSelector:null,hotelSelector:{id:"",country:"",name:"",address:"",rating:"",countryId:""},countrySelector:{id:"",name:"",shortName:""}},Ne=n(30),Ce={countries:[{id:"",name:"",shortName:""}],activeEvent:null},ke={checking:!1},we={hotels:[{id:"",country:"",name:"",address:"",rating:"",countryId:""}],activeEvent:null},Se=Object(ve.b)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.uiOpenModalHotel:return Object(p.a)(Object(p.a)({},e),{},{modalNew:!0,modalOpenHotel:!0});case g.uiOpenModalCountry:return Object(p.a)(Object(p.a)({},e),{},{modalNew:!0,modalOpenCountry:!0});case g.uiOpenModalHotelId:return Object(p.a)(Object(p.a)({},e),{},{modalOpenHotel:!0,modalNew:!1,hotelSelector:t.hotelUpdate});case g.uiOpenModalCountryId:return Object(p.a)(Object(p.a)({},e),{},{modalOpenCountry:!0,modalNew:!1,countrySelector:t.countryUpdate});case g.uiModalDelete:return Object(p.a)(Object(p.a)({},e),{},{modalDelete:!0,idSelector:t.idDelete});case g.uiModalDeleteClose:return Object(p.a)(Object(p.a)({},e),{},{modalDelete:!1});case g.uiCloseModal:return Object(p.a)(Object(p.a)({},e),{},{modalOpenCountry:!1,modalOpenHotel:!1,hotelSelector:{id:"",country:"",name:"",address:"",rating:"",countryId:""},countrySelector:{id:"",name:"",shortName:""}});case g.eventClearActiveEvent:return Object(p.a)(Object(p.a)({},e),{},{hotel:{id:"",country:"",name:"",address:"",rating:"",countryId:""}});default:return e}},country:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.eventAddCountry:return Object(p.a)(Object(p.a)({},e),{},{countries:[].concat(Object(Ne.a)(e.countries),[t.payload]),hola:"me ejecuto"});case g.eventCountryGet:return Object(p.a)(Object(p.a)({},e),{},{countries:t.payload});case g.eventClearModal:return Object(p.a)(Object(p.a)({},e),{},{activeEvent:null});case g.eventUpdatedCountry:return Object(p.a)(Object(p.a)({},e),{},{countries:e.countries.map((function(e){return e.id===t.payload.id?t.payload:e}))});case g.eventDeletedCountry:return Object(p.a)(Object(p.a)({},e),{},{countries:e.countries.filter((function(e){return e.id!==t.payload})),activeEvent:null});default:return e}},hotel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.eventAddHotel:return Object(p.a)(Object(p.a)({},e),{},{hotels:[].concat(Object(Ne.a)(e.hotels),[t.payload]),hola:"me ejecuto"});case g.eventHotelGet:return Object(p.a)(Object(p.a)({},e),{},{hotels:t.payload});case g.eventUpdatedHotel:return Object(p.a)(Object(p.a)({},e),{},{hotels:e.hotels.map((function(e){return e.id===t.payload.id?t.payload:e})),datos:t.payload.id});case g.eventDeletedHotel:return Object(p.a)(Object(p.a)({},e),{},{hotels:e.hotels.filter((function(e){return e.id!==t.payload})),activeEvent:null});case g.eventLogout:return Object(p.a)({},we);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.authLogin:return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{checking:!0});case g.authCheckingFinish:return Object(p.a)(Object(p.a)({},e),{},{checking:!0});case g.authLogout:return{checking:!1};default:return e}}}),Ee="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ve.c,Ie=Object(ve.d)(Se,Ee(Object(ve.a)(ge.a))),He=function(){return Object(w.jsx)(o.a,{store:Ie,children:Object(w.jsx)(xe,{})})};n(143);c.a.render(Object(w.jsx)(He,{}),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.810f6f1a.chunk.js.map